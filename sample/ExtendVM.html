<html>
<head>
<base href="../source/" />
<script src="EventSource.js"></script><script src="ViewModel.js"></script><script src="HTMLTemplateParser.js"></script><script src="HTMLTemplateView.js"></script>



<script type="text/xhtml-template" id="t">
    <h1>${text}</h1>
    <div style="background:${rgb};">
        ${t}
    </div>
    <input @value="${t|input}" />
</script>

</head>

<body>
<div id="container">
</div>
<script type="text/javascript">


var view = new HTMLTemplateView();
view.setTemplate(document.querySelector("#t").innerHTML);

document.body.appendChild(view);

var model = {
    rgb:"#00FFFF",
    text:"hellow",
    contacts:[
        {icon:"http://tp2.sinaimg.cn/1196343093/50/40000870994/1",rgb:"#FF0000",text:"hello1"},
        {icon:"http://tp2.sinaimg.cn/1196343093/50/40000870994/1",rgb:"#00FF00",text:"hello2"},
        {icon:"http://tp2.sinaimg.cn/1196343093/50/40000870994/1",rgb:"#0000FF",text:"hello3"}
    ]
};
var vm = new ViewModel(model);

var x = 1;
vm.extend({
    myText:"Hello World!",
    get t(){
        return x;
    },
    set t(v){
        x = Number(v);
    }
})
view.bind(vm);

</script>
</body></html>